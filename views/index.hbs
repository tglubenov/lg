

<div id="app" class="container">
  <div class="row">
    <div class="col-md-9">
      <!-- The map goes here -->
      <div id="map" style="height: 550px;" class="map"></div>
    </div>
    <div class="col-md-3">
      <!-- The layer checkboxes go here -->
      <h3>{{ pageTitle }}</h3>

      <p>{{timer}}</p>

      {{> footer}}
    </div>
  </div>
</div>



<script type="text/javascript">

  new Vue({
    el: '#app',
    data() {
      return{
        map: null,
        tileLayer: null,
        layers: [],
        title: 'Light Guard Info',
        now: new Date
      }
    },
    mounted() {
      this.initMap();
      this.initLayers();
    },
    methods: {
      initMap() {
        this.map = L.map('map').setView([42.617791, 25.026855], 8);

        this.tileLayer = L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
          maxZoom: 18,
          attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
            '<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
            'Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
          id: 'mapbox.streets'
        });
        this.tileLayer.addTo(this.map);
      },
      initLayers() {},
    },
    computed: {
      now() {
        return new Date;
      }
    },
    created () {
      setInterval(() => this.now = new Date, 1000*2);
    }
  });
</script>
